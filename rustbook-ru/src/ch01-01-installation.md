## Установка

Первым шагом является установка Ржавчины. Мы загрузим Ржавчину, используя средство приказной строки `rustup`, предназначенное для управлениями исполнениями Ржавчина и другими связанными с ним средствами. Вам понадобится соединение с мировой сетью для его загрузки.

> Примечание: если вы по каким-то причинам предпочитаете не использовать rustup, пожалуйста, посетите [страницу «Другие способы установки Ржавчины»] для получения дополнительных возможностей.

Следующие шаги устанавливают последнее безотказное исполнение сборщика Ржавчины. Благодаря заверениям безотказности Ржавчины, все примеры в книге, которые собираются, будут собираться и в новых исполнениях Ржавчины. Вывод может немного отличаться в разных исполнениях, поскольку Ржавчина часто улучшает сообщения об ошибках и предупреждения. Другими словами, любое новое, безотказное исполнение Ржавчины, которую вы установите с помощью этих шагов, должна работать с содержимым этой книги так, как ожидается.

> ### Условные обозначения приказной строки
>
> В этой главе и во всей книге мы будем выполнять некоторые приказы, используемые в окне вызова. Строки, которые вы должны вводить в окне вызова, начинаются с `$`. Вам не нужно вводить знак `$`; это подсказка приказной строки, отображаемая для обозначения начала каждого приказа. Строки, которые не начинаются с `$`, обычно показывают вывод предыдущего приказа. Кроме того, в примерах, своеобразных для PowerShell, будет использоваться `>`, а не `$`.

### Установка `rustup` на Linux или macOS

Если вы используете Linux или macOS, пожалуйста, выполните следующий приказ:

```console
$ curl --proto '=https' --tlsv1.2 https://sh.rustup.rs -sSf | sh
```

Приказ загружает заранее рассчитанный замысел и запускает установку средства `rustup`, которое устанавливает последнее безотказное исполнение Ржавчины. Вам может быть предложено ввести пароль. Если установка прошла успешно, появится следующая строка:

```text
Ржавчина is installed now. Great!
```

Вам также понадобится *составитель (linker)* — программа, которую Ржавчина использует для объединения своих собранных выходных данных в один файл. Скорее всего, он у вас уже есть. При возникновении ошибок объединения, вам следует установить сборщик C, который обычно будет включать в себя и составитель. Сборщик C также полезен, потому что некоторые распространённые дополнения Ржавчина зависят от рукописи C и нуждаются в сборщике C.

На macOS вы можете получить сборщик C, выполнив приказ:

```console
$ xcode-select --install
```

Пользователи Linux, как правило, должны устанавливать GCC или Clang в соответствии с пособием их установочного набора. Например, при использовании Ubuntu можно установить дополнение `build-essential`.

### Установка `rustup` на Windows

На Windows перейдите по адресу [https://www.rust-lang.org/tools/install] и следуйте указаниям по установке Ржавчины. На определённом этапе установки вы получите сообщение, предупреждающее, что вам также понадобятся средства сборки MSVC для Visual Studio 2013 или более поздней исполнения.

Чтобы получить средства сборки, вам потребуется установить [Visual Studio 2022]. На вопрос о том, какие составляющие необходимо установить, выберите:

- “Desktop Development with C++”
- The Windows 10 or 11 SDK
- Английский (языковое дополнение) вместе с любым другим языковым дополнением по вашему выбору.

В остальной части этой книги используются приказы, которые работают как в *cmd.exe*, так и в PowerShell. При наличии отличительных различий мы объясним, что необходимо сделать в таких случаях.

### Устранение возможных ошибок

Чтобы проверить, правильно ли у вас установлена Ржавчина, откройте оболочку и введите эту строку:

```console
$ rustc --version
```

Вы должны увидеть номер исполнения, хэш определения и дату определения для последней безотказного исполнения, которое было выпущено, в следующем виде:

```text
rustc x.y.z (abcabcabc yyyy-mm-dd)
```

Если вы видите эти сведения, вы успешно установили Ржавчины! Если вы не видите эти сведения, убедитесь, что Ржавчина находится в вашей системной папке переменной `%PATH%` следующим образом:

В Windows CMD:

```console
> echo %PATH%
```

В PowerShell:

```powershell
> echo $env:Path
```

В Linux и macOS:

```console
$ echo $PATH
```

Если все было сделано правильно, но Ржавчина все ещё не работает, есть несколько мест, где вам могут помочь. Узнайте, как связаться с другими Rustaceans (так мы себя называем) на [странице сообщества].

### Обновление и удаление

После установки Ржавчины с помощью `rustup` обновление до нового исполнения не составит труда. В приказной оболочке запустите следующий приказ для обновления:

```console
$ rustup update
```

Чтобы удалить Ржавчину и `rustup`, выполните следующий приказ:

```console
$ rustup self uninstall
```

### Местное пособие

Установка Ржавчины также включает местное пособие, чтобы вы могли читать его в без доступа к мировой сети. Выполните `rustup doc`, чтобы открыть местное пособие в обозревателе.

Если обычная библиотека предоставляет вид данных или функцию, а вы не знаете, что она делает или как её использовать, воспользуйтесь пособием внешней оболочки прикладного программирования (API), чтобы это узнать!


[страницу «Другие способы установки Ржавчины»]: https://forge.rust-lang.org/infra/other-installation-methods.html
[https://www.rust-lang.org/tools/install]: https://www.rust-lang.org/tools/install
[Visual Studio 2022]: https://visualstudio.microsoft.com/downloads/
[странице сообщества]: https://www.rust-lang.org/community