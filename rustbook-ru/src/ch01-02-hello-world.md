## Привет, мир!

Теперь, когда вы установили Ржавчину пришло время написать свою первую программу на Ржавчине. Привычно при изучении нового языка принято писать небольшую программу, которая выводит на экране писание `Привет, мир!`, поэтому мы сделаем то же самое!

>  Примечание: Эта книга предполагает наличие достаточного навыка работы с приказной строкой. Ржавчина не предъявляет особых требований к тому, каким набором средств вы пользуетесь для изменения или хранения вашей рукописи, поэтому если вы предпочитаете использовать встроенную среду разработки (IDE) вместо приказной строки, смело используйте вашу любимую IDE. Многие IDE сейчас в той или иной степени поддерживают Ржавчину; подробности можно узнать из пособия к IDE. Объединение Ржавчина сосредоточилось на обеспечении отличной поддержки IDE с помощью `rust-analyzer`. Более подробные сведения смотрите в [Приложении D](appendix-04-useful-development-tools.md)<!-- ignore -->.
>

### Создание папки дела

Прежде всего начнём с создания папки, в которой будем сохранять нашу рукопись на языке Ржавчина. На самом деле не важно, где сохранять нашу рукопись. Однако, для упражнений и дел, обсуждаемых в данной книге, мы советуем создать папку *projects* в вашем домашней папке, там же и хранить в будущем рукопись программ из книги.

Откройте окно вызова и введите следующие приказы для того, чтобы создать папку <em>projects</em> для хранения рукописи разных дел, и, внутри неё, папку <em>hello_world</em> для дела “Привет, мир!”.

Для Linux, macOS и PowerShell на Windows, введите:

```console
$ mkdir ~/projects
$ cd ~/projects
$ mkdir hello_world
$ cd hello_world
```

Для Windows в CMD, введите:

```cmd
> mkdir "%USERPROFILE%\projects"
> cd /d "%USERPROFILE%\projects"
> mkdir hello_world
> cd hello_world
```

### Написание и запуск первой  программы на Ржавчине

Затем создайте новый исходный файл и назовите его *main.rs*. Файлы Ржавчина всегда заканчиваются расширением *.rs*. Если вы используете более одного слова в имени файла, принято разделять их знаком подчёркивания. Например, используйте *hello_world.rs*  вместо *helloworld.rs*.

Теперь откроем файл *main.rs* для изменения и введём следующие строки рукописи:

<span class="filename">Название файла: main.rs</span>

```rust
fn main() {
    println!("Привет, мир!");
}
```

<span class="caption">Приложение 1-1: Программа, которая выводит <code>Привет, мир!</code></span>

Сохраните файл и вернитесь в окно окна вызова в папку *~/projects/hello_world*. В Linux или macOS введите следующие приказы для сборки и запуска файла:

```console
$ rustc main.rs
$ ./main
Привет, мир!
```

В Windows, введите приказ `.\main.exe` вместо `./main`:

```powershell
> rustc main.rs
> .\main.exe
Привет, мир!
```

Независимо от вашей операционной системы, строка `Привет, мир!` должна быть выведена на окно вызова. Если вы не видите такого вывода, обратитесь к разделу ["Устранение неполадок "]<!-- ignore -->, чтобы узнать, как получить помощь.

Если вы получили в окне вывода `Привет, мир!`, то примите наши поздравления! Вы написали программу на Ржавчине, что делает вас "Ржавым программистом" — добро пожаловать!

### Устройство программы на Ржавчине

Давайте рассмотрим «Привет, мир!» программу в подробностях. Вот первая часть головоломки:

```rust
fn main() {

}
```

Эти строки определяют функцию с именем `main`. Функция `main` особенная: это всегда первое что указано в любом деле, которое создается в каждой вновьсозданном деле в языке Ржавчина. Первая строка объявляет функцию с именем `main`, которая не имеет свойств и ничего не возвращает. Если бы были свойства, они бы заключались в круглые скобки `()`.

Тело функции заключено в `{}`. Ржавчина требует узорчатых скобок вокруг всех тел функций. Принятое внешнее исполнение — поместить открывающую узорчатую скобку на ту же строку, что и объявление функции, добавив между ними один пробел.

>  Примечание: Если хотите придерживаться принятого внешнего исполнения во всех делах Ржавчина вы можете использовать средство принудительной разметки под названием `rustfmt` для разметки рукописи в определённом исполнении (подробнее о `rustfmt` в [Приложении D](appendix-04-useful-development-tools.md)<!-- ignore -->. Объединение Ржавчины включила это средство в обычный установочный набор Ржавчина, как `rustc`, поэтому он уже должен быть установлен на вашем компьютере!
>

Тело функции `main` содержит следующую рукопись:

```rust
    println!("Привет, мир!");
```

Эта строка делает всю работу в этой маленькой программе: выводит писание на экран. Можно заметить четыре важных подробности.

Во-первых, исполнение Ржавчины предполагает отступ в четыре пробела, а не табуляцию.

Во-вторых, `println!` вызывается макрос Ржавчины. Если бы вместо него была вызвана функция, она была бы набрана как `println` (без `!`). Более подробно мы обсудим макросы Ржавчина в главе 19. Пока достаточно знать, что использование `!` подразумевает вызов макроса вместо обычной функции, и что макросы не всегда подчиняются тем же правилам как функции.

В-третьих, вы видите строку `"Привет, мир!"`. Мы передаём её в качестве переменной макросу `println!`, и она выводится на экран.

В-четвёртых, мы завершаем строку точкой с запятой (`;`), которая указывает на окончание этого выражения и возможность начала следующего. Большинство строк рукописи Ржавчины заканчиваются точкой с запятой.

### Сборка и запуск - это отдельные шаги

Вы только что запустили впервые созданную программу, поэтому давайте рассмотрим каждый шаг этого этапа.

Перед запуском программы на Ржавчине вы должны собрать её с помощью сборщика Ржавчины, введя приказ `rustc` и передав ему имя вашего исходного файла, например:

```console
$ rustc main.rs
```

Если у вас есть опыт работы с C или C++, вы заметите, что это похоже на `gcc` или `clang`. После успешной сборки Ржавчина выводит двоичный исполняемый файл.

В Linux, macOS и PowerShell в Windows вы можете увидеть исполняемый файл, введя приказ `ls` в оболочке:

```console
$ ls
main  main.rs
```

В Linux и macOS вы увидите два файла. При использовании PowerShell в Windows вы увидите такие же три файла, как и при использовании CMD. Используя CMD в Windows, введите следующее:

```cmd
> dir /B %= the /B option says to only show the file names =%
main.exe
main.pdb
main.rs
```

Это показывает исходную рукопись файла с расширением *.rs*, исполняемый файл (*main.exe* на Windows, но *main* на всех других площадках) и, при использовании Windows, файл, содержащий отладочные сведения с расширением *.pdb*. Отсюда вы запускаете файлы *main* или *main.exe*, например:

```console
$ ./main # для Linux
> .\main.exe # для Windows
```

Если ваш *main.rs* — это ваша программа «Привет, мир!», эта строка выведет в окно вызова `Привет, мир!`.

Если вы лучше знакомы с изменяемыми языками, такими как Ruby, Python или JavaScript, возможно, вы не привыкли собирать и запускать программу как отдельные шаги. Ржавчина — это предварительно *собранный* язык, то есть вы можете собрать программу и передать исполняемый файл кому-то другому, и он сможет запустить его даже без установленного на личном компьютере языка Ржавчина. Если вы даёте кому-то файл *.rb* , *.py* или *.js*, у него должна быть установлена исполнение Ruby, Python или JavaScript (соответственно). Но в этих языках вам нужен только один приказ для сборки и запуска вашей программы. Во внешнем виде всех языков программирования всё является неким условным соглашением.

Сборка с помощью `rustc` подходит для простых программ, но по мере роста вашего дела вы захотите управлять всеми свойствами и упростить передачу рукописи. Далее мы познакомим вас с средством Cargo, который поможет вам писать программы из существующего мира на Ржавчине.


["Устранение неполадок "]: ch01-01-installation.html#troubleshooting