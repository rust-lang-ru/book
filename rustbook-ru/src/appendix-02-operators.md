## Дополнение Б: Отдельные вычислители и обозначения

Это дополнение содержит свод правил написания Ржавчины, включая приказчики и другие обозначения, которые появляются сами по себе или в среде путей, обобщений, сущностей, макросов, свойств, примечаний, упорядоченных рядов и скобок.

### Приказчики

Таблица Б-1 содержит приказчики языка Ржавчина, пример появления приказчика, короткое объяснение, возможность перегрузки приказчика. Если приказчик можно перегрузить, то показана сущность, с помощью которого его можно перегрузить.

<span class="caption">Таблица Б-1: Приказчики</span>

Приказчик | Пример | Объяснение | Перегружаемость
--- | --- | --- | ---
`!` | `ident!(...)`, `ident!{...}`, `ident![...]` | Вызов макроса |
`!` | `!expr` | Побитовое или разумное отрицание | `Not`
`!=` | `expr != expr` | Сравнение "не равно" | `PartialEq`
`%` | `expr % expr` | Остаток от деления | `Rem`
`%=` | `var %= expr` | Остаток от деления и присваивание | `RemAssign`
`&` | `&expr`, `&mut expr` | Заимствование |
`&` | `&type`, `&mut type`, `&'a type`, `&'a mut type` | Указание что данный вид данных заимствуется |
`&` | `expr & expr` | Побитовое И | `BitAnd`
`&=` | `var &= expr` | Побитовое И и присваивание | `BitAndAssign`
`&&` | `expr && expr` | Разумное И |
`*` | `expr * expr` | Арифметическое умножение | `Mul`
`*=` | `var *= expr` | Арифметическое умножение и присваивание | `MulAssign`
`*` | `*expr` | Разыменование ссылки | `Deref`
`*` | `*const type`, `*mut type` | Указывает, что данный вид данных является сырым указателем |
`+` | `trait + trait`, `'a + trait` | Соединение ограничений вида |
`+` | `expr + expr` | Арифметическое сложение | `Add`
`+=` | `var += expr` | Арифметическое сложение и присваивание | `AddAssign`
`,` | `expr, expr` | Разделитель переменных и значений |
`-` | `- expr` | Арифметическое отрицание | `Neg`
`-` | `expr - expr` | Арифметическое вычитание | `Sub`
`-` | `var -= expr` | Арифметическое вычитание и присваивание | `SubAssign`
`->` | `fn(...) -> type`, <code>&amp;vert;...&amp;vert; -&gt; type</code> | ... |
`.` | `expr.ident` | Доступ к переменной |
`..` | `..`, `expr..`, `..expr`, `expr..expr` | Указывает на ряд чисел, исключая правый | `PartialOrd`
`..=` | `..=expr`, `expr..=expr` | Указывает на ряд чисел, включая правый | `PartialOrd`
`..` | `..expr` | правила написания обновления стопки |
`..` | `variant(x, ..)`, `struct_type { x, .. }` | Привязка «И все остальное» |
`...` | `expr...expr` | (Устарело, используйте новое правило написания `..=`) Используется при определении инклюзивного ряда|
`/` | `expr / expr` | Арифметическое деление | `Div`
`/=` | `var /= expr` | Арифметическое деление и присваивание | `DivAssign`
`:` | `pat: type`, `ident: type` | Ограничения видов |
`:` | `ident: expr` | Объявление поля стопки |
`:` | `'a: loop {...}` | Метка круговорота |
`;` | `expr;` | Признак конца указания и переменной |
`;` | `[...; len]` | Часть правил написания массива конечного размера |
`<<` | `expr << expr` | Битовый сдвиг влево | `Shl`
`<<=` | `var <<= expr` | Битовый сдвиг влево и присваивание | `ShlAssign`
`<` | `expr < expr` | Сравнение "меньше чем" | `PartialOrd`
`<=` | `expr <= expr` | Сравнение "меньше или равно" | `PartialOrd`
`=` | `var = expr`, `ident = type` | Присваивание/равнозначность |
`==` | `expr == expr` | Сравнение "равно" | `PartialEq`
`=>` | `pat => expr` | Часть правил написания стопки match |
`>` | `expr > expr` | Сравнение "больше чем" | `PartialOrd`
`>=` | `expr >= expr` | Сравнение "больше или равно" | `PartialOrd`
`>>` | `expr >> expr` | Битовый сдвиг вправо | `Shr`
`>>=` | `var >>= expr` | Битовый сдвиг вправо и присваивание | `ShrAssign`
`@` | `ident @ pat` | Pattern binding |
`^` | `expr ^ expr` | Побитовое исключающее ИЛИ | `BitXor`
`^=` | `var ^= expr` | Побитовое исключающее ИЛИ и присваивание | `BitXorAssign`
<code>&amp;vert;</code> | <code>pat &amp;vert; pat</code> | Иные образцы |
<code>&amp;vert;</code> | <code>expr &amp;vert; expr</code> | Побитовое ИЛИ | `BitOr`
<code>&amp;vert;=</code> | <code>var &amp;vert;= expr</code> | Побитовое ИЛИ и присваивание | `BitOrAssign`
<code>&amp;vert;&amp;vert;</code> | <code>expr &amp;vert;&amp;vert; expr</code> | Короткое разумное ИЛИ |
`?` | `expr?` | Возврат ошибки |

### Обозначения не-приказчики

Следующий список содержит все знаки, которые не работают как приказчики; то есть они не ведут себя как вызов функции или способа.

Таблица Б-2 показывает знаки, которые появляются сами по себе и допустимы в различных местах.

<span class="caption">Таблица Б-2: Независимые правила написания</span>

Обозначение | Объяснение
--- | ---
`'ident` | Именованное время жизни или метка круговорота
`...u8`, `...i32`, `...f64`, `...usize`, etc. | Числовая запись определённого вида данных
`"..."` | Строковый запись
`r"..."`, `r#"..."#`, `r##"..."##`, etc. | Необработанная строковая запись, в котором не обрабатываются escape-знаки
`b"..."` | Строковый запись байтов; создаёт массив байтов вместо строки
`br"..."`, `br#"..."#`, `br##"..."##`, etc. | Необработанная строковая байтовый запись, сочетание необработанной и байтовой записи
`'...'` | Знаковая запись
`b'...'` | ASCII байтовая запись
<code>&amp;vert;...&amp;vert; expr</code> | Замыкание
`!` | Всегда пустой вид для расходящихся функций
`_` | «Пренебрегаемое» связывание образцов; также используется для удобства чтения целочисленных записей

Таблица Б-3 показывает обозначения, которые появляются в среде путей упорядочивания разделов

<span class="caption">Таблица Б-3. Правила написания, связанный с путями</span>

Обозначение | Объяснение
--- | ---
`ident::ident` | Путь к пространству имён
`::path` | Путь относительно корня дополнения (т. е. явный безусловный путь)
`self::path` | Путь относительно текущего раздела (т. е. явный относительный путь).
`super::path` | Путь относительно родительского раздела текущего раздела
`type::ident`, `<type as trait>::ident` | Сопряженные постоянные переменные, функции и виды данных
`<type>::...` | Сопряженная переменная для вида данных, который не может быть назван прямо (например `<&T>::...`, `<[T]>::...`, etc.)
`trait::method(...)` | Устранение неоднозначности вызова способа путём именования сущности, который определяет его
`type::method(...)` | Устранение неоднозначности путём вызова способа через имя вида данных, для которого он определён
`<type as trait>::method(...)` | Устранение неоднозначности вызова способа путём именования сущности и вида данных

Таблица Б-4 показывает обозначения, которые появляются в среде использования обобщённых видов свойств

<span class="caption">Таблица Б-4: Обобщения</span>

Обозначение | Объяснение
--- | ---
`path<...>` | Определяет свойства для обобщённых свойств в виде (e.g., `Vec<u8>`)
`path::<...>`, `method::<...>` | Определяет свойства для обобщённых свойств, функций, или способов в выражении. Часто называют turbofish (например `"42".parse::<i32>()`)
`fn ident<...> ...` | Определение обобщённой функции
`struct ident<...> ...` | Определение обобщённой стопки
`enum ident<...> ...` | Объявление обобщённого перечисления
`impl<...> ...` | Определение обобщённого выполнения
`for<...> type` | Высокоуровневое связывание времени жизни
`type<ident=type>` | Обобщённый вид где один или более сопряженных видов имеют определённое присваивание (например `Iterator<Item=T>`)

Таблица Б-5 показывает обозначения, которые появляются в среде использования обобщённых видов свойств с ограничениями видов

<span class="caption">Таблица Б-5: Ограничения видов</span>

Обозначение | Объяснение
--- | ---
`T: U` | Обобщённое свойство `T` ограничивается до видов, которые используют сущность `U`
`T: 'a` | Обобщённый вид данных `T` должен существовать не меньше чем `'a` (то есть вид данных не может иметь ссылки с временем жизни меньше чем `'a`)
`T: 'static` | Обобщённый вид данных `T` не имеет заимствованных ссылок кроме имеющих время жизни `'static`
`'b: 'a` | Обобщённое время жизни `'b` должно быть не меньше чем `'a`
`T: ?Sized` | Позволяет обобщённым видам данных свойства иметь изменяемый размер
`'a + trait`, `trait + trait` | Соединение ограничений видов

Таблица Б-6 показывает обозначения, которые появляются в среде вызова или определения макросов и указания свойств переменной.

<span class="caption">Таблица Б-6: Макросы и свойства</span>

Обозначение | Объяснение
--- | ---
`#[meta]` | Внешнее свойство
`#![meta]` | Внутреннее свойство
`$ident` | Подстановка в макросе
`$ident:kind` | Захват макроса
`$(…)…` | Повторение макроса
`ident!(...)`, `ident!{...}`, `ident![...]` | Вызов макроса

Таблица Б-7 показывает обозначения, которые создают примечания.

<span class="caption">Таблица Б-7: Примечания</span>

Обозначение | Объяснение
--- | ---
`//` | Однострочный примечание
`//!` | Внутренний однострочный примечание пособия
`///` | Внешний однострочный примечание пособия
`/*...*/` | Многострочный примечание
`/*!...*/` | Внутренний многострочный примечание пособия
`/**...*/` | Внешний многострочный примечание пособия

Таблица Б-8 показывает обозначения, которые появляются в среде использования упорядоченных рядов.

<span class="caption">Таблица Б-8: Упорядоченные ряды</span>

Обозначение | Объяснение
--- | ---
`()` | Пустой упорядоченный ряд, он же пустой вид. И запись и вид.
`(expr)` | Выражение в скобках
`(expr,)` | Упорядоченный ряд с одной переменной выражения
`(type,)` | Упорядоченный ряд с одной переменной вида
`(expr, ...)` | Выражение упорядоченного ряда
`(type, ...)` | Вид упорядоченного ряда
`(type, ...)` | Выражение вызова функции; также используется для объявления стопок-упорядоченных рядов и исходов-упорядоченных рядов перечисления
`expr.0`, `expr.1`, etc. | Взятие переменной по порядковому указателю в упорядоченном ряде

Таблица Б-9 показывает среды, в которых используются узорчатые скобки.

<span class="caption">Таблица Б-9: Узорчатые скобки</span>

Среда | Объяснение
--- | ---
`{...}` | Выражение раздела
`Type {...}` | `struct` запись

Таблица Б-10 показывает среды, в которых используются квадратные скобки.

<span class="caption">Таблица Б-10: Квадратные скобки</span>

Среда | Объяснение
--- | ---
`[...]` | Запись массива
`[expr; len]` | Запись массива, содержащий `len` повторов `expr`
`[type; len]` | Массив, содержащий `len` образцов вида данных `type`
`expr[expr]` | Взятие по порядковому указателю в собрании. Возможна перегрузка (`Index`, `IndexMut`)
`expr[..]`, `expr[a..]`, `expr[..b]`, `expr[a..b]` | Взятие среза собрания по порядковому указателю, используется `Range`, `RangeFrom`, `RangeTo`, или `RangeFull` как "порядковый указатель"
